<%= form_with(model: @event, local: true) do |f| %>
  <% if @event.errors.any? %>
    <div>
      <p><strong><%= pluralize(@event.errors.count, "error") %> prevented this event from being saved:</strong></p>
      <ul>
        <% @event.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Basic event info -->
  <div>
    <%= f.label :title %><br>
    <%= f.text_field :title %>
  </div>

  <div>
    <%= f.label :description %><br>
    <%= f.text_area :description %>
  </div>

  <div>
    <%= f.label :location %><br>
    <%= f.text_field :location %>
  </div>

  <div>
    <%= f.label :starts_on, "Starts on" %><br>
    <%= f.date_field :starts_on %>
  </div>

  <div>
    <%= f.label :ends_on, "Ends on" %><br>
    <%= f.date_field :ends_on %>
  </div>

  <!-- Privacy (backed by event_private in DB) -->
  <div>
    <%= f.label :event_private, "Private event?" %>
    <%= f.check_box :event_private %>
  </div>

  <!-- New: Discoverability + Guest approval (UI only for now) -->
  <hr>

  <div>
    <h3>Discoverability</h3>
    <label>
      <%= check_box_tag :discoverable, "1" %>
      Make this event discoverable
    </label>
    <p style="font-size: 0.85em; color: #666;">
      (Placeholder option – not yet connected to the database.)
    </p>
  </div>

  <div>
    <h3>Guest approval</h3>
    <label>
      <%= check_box_tag :require_guest_approval, "1" %>
      Require host approval for new guests
    </label>
    <p style="font-size: 0.85em; color: #666;">
      (Placeholder – final behaviour will be added when participation logic is ready.)
    </p>
  </div>

  <div>
    <%= f.submit %>
  </div>
<% end %>
